<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="BlockSense.UserProfileView">
	
	<UserControl.Styles>
		<Style Selector="Border.card">
			<Setter Property="Background" Value="#FBF7F1"/>
			<Setter Property="CornerRadius" Value="18"/>
			<Setter Property="BoxShadow" Value="0 2 8 0 #30000000"/>
			<Setter Property="Padding" Value="30"/>
			<Setter Property="Margin" Value="20"/>
		</Style>

		<Style Selector="TextBlock.label">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Foreground" Value="#4A4238"/>
			<Setter Property="Margin" Value="0 10 0 5"/>
		</Style>

		<Style Selector="TextBlock.value">
			<Setter Property="FontSize" Value="16"/>
			<Setter Property="FontWeight" Value="Normal"/>
			<Setter Property="Foreground" Value="#6D4C41"/>
			<Setter Property="Opacity" Value="0.8"/>
			<Setter Property="Margin" Value="0 0 0 15"/>
		</Style>

		<Style Selector="Border.badge">
			<Setter Property="Background" Value="#D4B38C"/>
			<Setter Property="CornerRadius" Value="12"/>
			<Setter Property="Padding" Value="10 5"/>
			<Setter Property="HorizontalAlignment" Value="Left"/>
		</Style>

		<Style Selector="Border.status">
			<Setter Property="Width" Value="90"/>
			<Setter Property="Height" Value="24"/>
			<Setter Property="Background" Value="#D4B38C"/>
			<Setter Property="CornerRadius" Value="4"/>
			<Setter Property="Padding" Value="8 4"/>
		</Style>

		<Style Selector="Border.SecurityChecked">
			<Setter Property="Width" Value="20"/>
			<Setter Property="Height" Value="10"/>
			<Setter Property="Background" Value="#8B6B4A"/>
			<Setter Property="CornerRadius" Value="4"/>
		</Style>

		<Style Selector="Border.SecurityUnchecked">
			<Setter Property="Width" Value="20"/>
			<Setter Property="Height" Value="10"/>
			<Setter Property="Background" Value="#E6DDD1"/>
			<Setter Property="CornerRadius" Value="4"/>
		</Style>

		<Style Selector="TextBlock.badgeText">
			<Setter Property="FontSize" Value="14"/>
			<Setter Property="FontWeight" Value="Medium"/>
			<Setter Property="Foreground" Value="#F5E1C5"/>
		</Style>

		<Style Selector="Separator">
			<Setter Property="Height" Value="1"/>
			<Setter Property="Background" Value="#E6DDD1"/>
			<Setter Property="CornerRadius" Value="100"/>
			<Setter Property="Margin" Value="0 15"/>
		</Style>
	</UserControl.Styles>

	<Panel>
		<ExperimentalAcrylicBorder IsHitTestVisible="False">
			<ExperimentalAcrylicBorder.Material>
				<ExperimentalAcrylicMaterial
					BackgroundSource="Digger"
					TintColor="#ffffff80"
					TintOpacity="0.25"
					MaterialOpacity="0.7"/>
			</ExperimentalAcrylicBorder.Material>
		</ExperimentalAcrylicBorder>
		
		<StackPanel>

			<StackPanel Orientation="Horizontal" Spacing="12" Margin="30 30 30 10">

				<Button
					Classes="DefaultWhite"
					Width="40"
					Opacity="0.8"
					Click="HomeClick">
					<Image
						Height="30"
						Source="avares://BlockSense/Assets/backArrow.png"/>
				</Button>

				<!-- Header -->
				<TextBlock
					Text="User Profile"
					Foreground="#4A4238"
					FontSize="24"
					FontWeight="SemiBold"/>
			</StackPanel>



			<ScrollViewer Height="380" Margin="10 0">
				<Grid ColumnDefinitions="*,*" RowDefinitions="Auto,*">

					<!-- User Data Card -->
					<Border Classes="card" Grid.Column="0" Grid.Row="0">
						<StackPanel>

							<!--Profile Picture Border-->
							<Border
								Background="White"
								Width="120"
								Height="120"
								CornerRadius="60"
								PointerPressed="PfpUploadClick"
								Cursor="Hand"
								ClipToBounds="True"
								Margin="0 0 0 20">

								<Border.Clip>
									<EllipseGeometry RadiusX="60" RadiusY="60" Center="60,60"/>
								</Border.Clip>

								<Border.ContextMenu>
									<ContextMenu>
										<MenuItem Header="Set Default" Click="SetDefaultClick"/>
									</ContextMenu>
								</Border.ContextMenu>

								<!--Profile Picture Img-->
								<Image Name="ProfilePictureImage"
									   Source="avares://BlockSense/Assets/defaultPfp.png"
									   Stretch="UniformToFill"/>
							</Border>

							<!--Username-->
							<TextBlock Classes="label" Text="Username"/>
							<TextBlock Classes="value" Name="UsernameTextBlock"/>

							<!--User Id-->
							<TextBlock Classes="label" Text="User ID"/>
							<TextBlock Classes="value" Name="UidTextBlock"/>

							<!--User Email-->
							<TextBlock Classes="label" Text="Email"/>
							<TextBlock Classes="value" Name="EmailTextBlock"/>

							<!--User type (badges)-->
							<TextBlock Classes="label" Text="Account Badges"/>
							<StackPanel Name="AccountBadgesPanel" Orientation="Horizontal" Spacing="10">
							</StackPanel>

							<Separator/>

							<!--User account creation date-->
							<TextBlock Classes="label" Text="Creation Date"/>
							<TextBlock Classes="value" Name="CreationDateTextBlock"/>

							<!--User invitiation user-->
							<TextBlock Classes="label" Text="Invited By"/>
							<TextBlock Classes="value" Name="InvitationUserTextBlock" FontStyle="Italic"/>
						</StackPanel>
					</Border>

					<!-- Wallet Statistics card -->
					<Border Classes="card" Grid.Column="1" Grid.Row="0">
						<StackPanel>

							<!--Header-->
							<TextBlock
								Text="Wallet Statistics"
								Foreground="#4A4238"
								FontSize="22"
								FontWeight="Medium"
								Margin="0 0 0 20"/>

							<!--User last login date-->
							<TextBlock Classes="label" Text="Last Updated"/>
							<TextBlock Classes="value" Name="LastUpdateTextBlock"/>


							<!--Users account security level-->
							<TextBlock Classes="label" Text="Security Level"/>
							<StackPanel Name="SecurityLevelPanel" Orientation="Horizontal" Margin="0 5 0 15" Spacing="4">
								<Border Classes="SecurityChecked"/>
								<Border Classes="SecurityChecked"/>
								<Border Classes="SecurityChecked"/>
								<Border Classes="SecurityChecked"/>
								<Border Classes="SecurityChecked"/>
								<TextBlock Name="SecurityLevelTextBlock" Text="Perfect" Foreground="#6D4C41" FontSize="14" Margin="10 0 0 0"/>
							</StackPanel>

							<!--Users 2fa status (enabled/disabled)-->
							<TextBlock Classes="label" Text="2FA Status"/>
							<TextBlock Classes="value" Name="TwoFactorAuthTextBlock" Text="Disabled"/>

							<!--Active devices-->
							<TextBlock Classes="label" Text="Active Devices"/>
							<TextBlock Classes="value" Name="ActiveDevicesTextBlock"/>

							<Button
								Classes="DefaultDarkBrown"
								Width="220"
								Height="40"
								Margin="0 18 0 18"
								Padding="15 10"
								CornerRadius="8"
								Click="SecurityManagerClick">
								<TextBlock
									Text="Manage Security Settings"
									HorizontalAlignment="Center"
									VerticalAlignment="Center"
									FontWeight="Medium"
									Foreground="#E6C8A0"/>
							</Button>
							
							<Separator/>

							<TextBlock Classes="label" Text="Total Invited Users"/>
							<TextBlock Classes="value" Name="UsersInvitedTextBlock"/>

							<Button
								Classes="DefaultLightBrown"
								Width="200"
								Height="38"
								Margin="0 18 0 18"
								Padding="15 10"
								CornerRadius="12"
								Click="InviteManagerClick">
								<TextBlock
									Text="Invite Manager"
									HorizontalAlignment="Center"
									VerticalAlignment="Center"
									FontWeight="Medium"
									Foreground="#B08C5D"/>
							</Button>							
						</StackPanel>
					</Border>

					<!-- Security Manager card -->
					<Border Classes="card" Name="SecurityManager" Grid.Column="1" Grid.Row="0"
							IsVisible="True">
						<StackPanel>
							<!-- Header -->
							<StackPanel Orientation="Horizontal" Margin="0 0 0 15">
								<TextBlock
									Text="Security Manager"
									Foreground="#4A4238"
									FontSize="22"
									FontWeight="Medium"/>

								<Button
									Name="CloseSecurityManager"
									
									HorizontalAlignment="Right"
									Margin="80 0 0 0"
									Width="30"
									Height="30"
									Background="Transparent"
									BorderThickness="0">
									<Path
										Data="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
										Fill="#6D4C41"
										Width="16"
										Height="16"/>
								</Button>
							</StackPanel>

							<!-- Two-Factor Authentication Section -->
							<TextBlock
								Text="Two-Factor Authentication"
								Foreground="#4A4238"
								FontSize="18"
								FontWeight="Medium"
								Margin="0 0 0 10"/>

							<Border
								BorderBrush="#E6DDD1"
								BorderThickness="1"
								CornerRadius="12"
								Padding="15">
								<StackPanel>
									<TextBlock
										Name="TwoFAStatusText"
										Text="2FA is currently disabled. Enable it to increase your account security."
										Foreground="#6D4C41"
										TextWrapping="Wrap"
										Margin="0 0 0 10"/>

									<!-- QR Code and Setup Info -->
									<Grid Name="TwoFASetupGrid" IsVisible="{Binding !TwoFAEnabled}">
										<!-- QR Code Container -->
										<StackPanel HorizontalAlignment="Center" Margin="0 5 0 10">
											<Border
												Width="150"
												Height="150"
												Background="White"
												BorderBrush="#D4B38C"
												BorderThickness="1"
												CornerRadius="8"
												HorizontalAlignment="Center"
												Margin="0 0 0 10">
												<Image Name="QRCodeImage" Stretch="Uniform" Margin="10"/>
											</Border>

											<TextBlock
												Text="Scan with authenticator app"
												FontSize="12"
												Foreground="#8B6B4A"
												HorizontalAlignment="Center"/>
										</StackPanel>
									</Grid>

									<!-- Setup Key -->
									<StackPanel Name="SetupKeyPanel" IsVisible="{Binding !TwoFAEnabled}" Margin="0 10 0 0">
										<TextBlock
											Text="Setup Key"
											FontWeight="Medium"
											Foreground="#4A4238"
											Margin="0 0 0 5"
											HorizontalAlignment="Center"/>

										<Border
											Background="#F5F0E8"
											Padding="10"
											CornerRadius="6"
											Margin="40 0"
											HorizontalAlignment="Center">
											<Grid ColumnDefinitions="*,Auto">
												<TextBlock
													Name="SetupKeyText"
													Text="ABCD EFGH IJKL MNOP"
													FontFamily="Consolas, Courier New, monospace"
													Foreground="#6D4C41"/>

												<Button
													Grid.Column="1"
													Width="24"
													Height="24"
													Background="Transparent"
													Padding="0"
													
													ToolTip.Tip="Copy to clipboard">
													<Path
														Data="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"
														Fill="#8B6B4A"
														Width="16"
														Height="16"/>
												</Button>
											</Grid>
										</Border>
									</StackPanel>

									<!-- Verification Code -->
									<StackPanel Name="VerificationPanel" IsVisible="{Binding !TwoFAEnabled}" Margin="0 15 0 0">
										<TextBlock
											Text="Verification Code"
											FontWeight="Medium"
											Foreground="#4A4238"
											Margin="0 0 0 5"
											HorizontalAlignment="Center"/>

										<TextBox
											Name="VerificationCodeInput"
											Watermark="Enter 6-digit code"
											MaxLength="6"
											Width="180"
											Margin="0 0 0 0"
											BorderBrush="#D4B38C"
											HorizontalAlignment="Center"/>
									</StackPanel>

									<!-- Toggle Button -->
									<StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0 15 0 0" Spacing="10">
										<Button
											Name="ToggleTwoFAButton"
											Classes="DefaultDarkBrown"
											Width="140"
											Height="36"
											CornerRadius="8"
											>
											<TextBlock
												Name="ToggleTwoFAText"
												Text="Enable 2FA"
												FontWeight="Medium"
												Foreground="#E6C8A0"
												HorizontalAlignment="Center"
												VerticalAlignment="Center"/>
										</Button>

										<Button
											Name="VerifyTwoFAButton"
											IsVisible="{Binding !TwoFAEnabled}"
											Classes="DefaultLightBrown"
											Width="80"
											Height="36"
											CornerRadius="8"
											>
											<TextBlock
												Text="Verify"
												FontWeight="Medium"
												Foreground="#8B6B4A"
												HorizontalAlignment="Center"
												VerticalAlignment="Center"/>
										</Button>
									</StackPanel>
								</StackPanel>
							</Border>
						</StackPanel>
					</Border>

					<!-- Activity Log Card-->
					<Border Classes="card" Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1">
						<StackPanel>

							<!-- Header -->
							<TextBlock
								Text="Recent Activity"
								Foreground="#4A4238"
								FontSize="18"
								FontWeight="Medium"
								Margin="0 0 0 10"/>

							<!-- Table definition -->
							<Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto" ColumnDefinitions="Auto,*,Auto" Margin="0 10">
								<!-- Columns -->
								<TextBlock Grid.Row="0" Grid.Column="0" Text="Date" FontWeight="SemiBold" Foreground="#8B6B4A"/>
								<TextBlock Grid.Row="0" Grid.Column="1" Text="Activity" FontWeight="SemiBold" Foreground="#8B6B4A"/>
								<TextBlock Grid.Row="0" Grid.Column="2" Text="Status" FontWeight="SemiBold" Foreground="#8B6B4A"/>

								<Separator Grid.Row="1" Grid.ColumnSpan="3" Margin="0 10"/>

								<!-- Row 1 -->
								<TextBlock Grid.Row="2" Grid.Column="0" Text="Apr 15, 2025" Foreground="#5D4B35" Margin="0 0 20 0"/>
								<TextBlock Grid.Row="2" Grid.Column="1" Text="Password Changed" Foreground="#5D4B35"/>
								<Border Grid.Row="2" Grid.Column="2" Classes="status">
									<TextBlock Text="Completed" Height="16" FontSize="12" Foreground="White" HorizontalAlignment="Center"/>
								</Border>

								<!-- Row 2 -->
								<TextBlock Grid.Row="3" Grid.Column="0" Text="Apr 12, 2025" Foreground="#5D4B35" Margin="0 15 20 0"/>
								<TextBlock Grid.Row="3" Grid.Column="1" Text="New Device Login" Foreground="#5D4B35" Margin="0 15 0 0"/>
								<Border Grid.Row="3" Grid.Column="2" Classes="status" Margin="0 15 0 0">
									<TextBlock Text="Verified" FontSize="12" Foreground="White" HorizontalAlignment="Center"/>
								</Border>

								<!-- Row 3 -->
								<TextBlock Grid.Row="4" Grid.Column="0" Text="Apr 10, 2025" Foreground="#5D4B35" Margin="0 15 20 0"/>
								<TextBlock Grid.Row="4" Grid.Column="1" Text="Wallet Backup" Foreground="#5D4B35" Margin="0 15 0 0"/>
								<Border Grid.Row="4" Grid.Column="2" Classes="status" Margin="0 15 0 0">
									<TextBlock Text="Completed" FontSize="12" Foreground="White" HorizontalAlignment="Center"/>
								</Border>
							</Grid>

							<!-- Full Activity Log Button -->
							<Button
								Width="200"
								Height="40"
								Background="Transparent"
								HorizontalAlignment="Center"
								Margin="0 14 0 0"
								Padding="15 10"
								BorderBrush="#6D4C41"
								BorderThickness="1"
								CornerRadius="8">

								<TextBlock
									Text="View Full Activity Log"
									HorizontalAlignment="Center"
									VerticalAlignment="Center"
									FontWeight="Medium"
									Foreground="#5D3F36"/>

								<Button.Styles>
									<Style Selector="Button:pointerover ContentPresenter">
										<Setter Property="Background" Value="Transparent" />
										<Setter Property="BorderBrush" Value="#6D4C41"/>
									</Style>
								</Button.Styles>
							</Button>

						</StackPanel>
					</Border>
				</Grid>
			</ScrollViewer>
		</StackPanel>

	</Panel>
</UserControl>
